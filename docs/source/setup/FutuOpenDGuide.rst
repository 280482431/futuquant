=================
FutuOpeD使用说明
=================

配置文件
---------

FutuOpenD配置
~~~~~~~~~~~~~~

  FutuOpenD启动配置文件使用XML格式，如下图所示：

  .. image:: ../_static/FTOpenDConfig.png

  **配置项：**
  
  ================   ==================================================================================================   ===========================================
  键值               说明						                                                                          是否可选配置项
  ================   ==================================================================================================   ===========================================
  ip                 监听地址																			                  是，不设置则默认0.0.0.0	
  api_port           API协议接收端口                                                                                      否，不设置则启动失败
  push_proto_type    API协议支持PB以及Json格式，PB：0，Json：1，推送类协议通过该配置决定包体格式                          是，不设置则默认Json格式
  rsa_private_key    API协议RSA加密私钥（PKCS#1）文件绝对路径                                                             是，不设置则协议不加密
  telnet_port        远程操作命令监听端口                                                                                 是，不设置则启用远程命令
  login_account      登录帐号                                                                                             是，可以使用证书登录或命令行输入
  login_pwd          登录密码明文                                                                                         是，可以使用密文、证书登录或命令行输入
  login_pwd_md5      登录密码密文（32位MD5加密16进制），密文明文都存在情况下，只使用密文                                  是，可以使用明文、证书登录或命令行输入
  login_cert_file    证书文件绝对路径，除帐号密码外的另一种登录方式输入，若同时存在帐号密码登录配置项，只使用证书登录     是，可以使用帐号密码登录或命令行输入
  ================   ==================================================================================================   ===========================================

FutuHistData配置
~~~~~~~~~~~~~~~~~

  历史数据下载启动配置文件使用XML格式，如下图所示：
  
  .. image:: ../_static/FTHistDataConfig.png
  
  **配置项：**
  
  =================   =============================================================================================================
  键值                说明						                                                             
  =================   =============================================================================================================
  enable              是否启用下载工具																		 
  begin_time          下载起始时间，时间格式为HHMM，每天到当地这个时间点开始下载                            
  end_time            下载结束时间，时间格式为HHMM，每天到当地这个时间点暂停下载，end小于start时表示end为第二天
  market              下载数据市场，可选市场类型为hk、us、cn，多个市用|连接，如hk|cn|us                  
  kline_type          下载K线数据类型，可选的K线类型为day、week、month、year、min1、min5、min15、min30、min60，多个类型用|连接                                                               
  hist_data_dir       历史数据存放位置绝对路径,修改后重启程序才生效	                                                                           
  =================   =============================================================================================================
  
---------------

启动命令行参数
---------------

  命令行部分参数与配置文件相同，同样参数若存在于命令行与配置文件，使用命令行参数。
  
  传参格式：-key=value
  
  例如FutuOpenD.exe -login_account=100000 -login_pwd=123456
  
  **参数项：**
  
  ========================   ==================================================================================================   ================================================
  键值                       说明						                                                                          是否可选配置项
  ========================   ==================================================================================================   ================================================
  login_account              登录帐号																		                      是，可以使用证书登录或配置文件配置项
  login_pwd                  登录密码明文                                                                                         是，可以使用证书登录或配置文件配置项
  login_pwd_md5              登录密码密文（32位MD5加密16进制），密文明文都存在情况下，只使用密文                                  是，可以使用密文、证书登录或配置文件配置项
  login_cert_file            证书文件绝对路径，除帐号密码外的另一种登录方式输入，若同时存在帐号密码登录配置项，只使用证书登录     是，可以使用明文、证书登录或配置文件配置项        
  cfg_file                   FutuOpenD配置文件绝对路径                                                                            是，不设置则使用程序所在目录下的FutuOpenD.xml
  hist_data_cfg_file         FutuHistData配置文件绝对路径 	                                                                      是，不设置则使用程序所在目录下的FutuHistData.xml
  console                    是否显示控制台，后台运行：0，控制台运行：1                                                           是，不设置则默认控制台运行
  ========================   ==================================================================================================   ================================================

--------------

登录参数使用优先级
--------------
  1.命令行证书登录
  
  2.命令行帐号密码密文登录
  
  3.命令行帐号密码明文登录
  
  4.配置文件证书登录
  
  5.配置文件帐号密码密文登录
  
  6.配置文件帐号密码明文登录

--------------

运维命令
--------------
  
  通过命令行或者Telent发送命令可以对FutuOpenD做运维操作。
  
  命令格式：**cmd -param_key1=param_value1 -param_key2=param_value2**
  
exit - 退出程序
~~~~~~~~~~~~~~~~

  exit 

  退出FutuOpenD程序


req_phone_verify_code - 请求手机验证码
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

  req_phone_verify_code 

  请求手机验证码，当启用设备锁并初次在该设备登录，要求做安全验证。
  
input_phone_verify_code - 输入手机验证码
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

  input_phone_verify_code -code=123456

  输入手机验证码，并继续登录流程。

  **Parameters: code** - str，手机验证码
 
req_pic_verify_code - 请求图新验证码
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

  req_pic_verify_code 

  请求图形验证码，当多次输入错登录密码时，需要输入图形验证码。
  
input_pic_verify_code - 输入手机验证码
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

  input_pic_verify_code -code=1234

  输入图形验证码，并继续登录流程。

  **Paramters code:** str，图形验证码
  
relogin - 重登录
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

  relogin -login_pwd=123456

  当登录密码修改或中途打开设备锁等情况，要求用户重新登录时，可以使用该命令。只能重登当前帐号，不支持切换帐号。
  密码参数主要用于登录密码修改的情况，不指定密码则使用启动时登录密码。

  **Paramters login_pwd:** str，登录密码明文
  
  **Paramters login_pwd_md5:** str，登录密码密文（32位MD5加密16进制）
  
